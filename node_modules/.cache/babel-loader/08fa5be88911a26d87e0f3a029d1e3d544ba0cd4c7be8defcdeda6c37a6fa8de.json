{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\win\\\\OneDrive\\\\Desktop\\\\frontend-atelier\\\\src\\\\components\\\\pages\\\\login.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { AuthContext } from \"../../contexts/AuthContext/AuthContext\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { NotificationManager } from \"react-notifications\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const navigate = useNavigate();\n  const [show1, setshow1] = useState(1);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (show1 < 4) {\n        setshow1(show1 + 1);\n      } else {\n        setshow1(1);\n      }\n    }, 3000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [show1]);\n  const {\n    user,\n    dispatch\n  } = useContext(AuthContext);\n  const email = useRef();\n  const password = useRef();\n  const HandlerLoginForm = async e => {\n    e.preventDefault();\n    console.log(\"HandlerLoginForm called\");\n    try {\n      const res = await axios.post(\"http://localhost:8080/auth/login\", {\n        email: email.current.value,\n        password: password.current.value\n      });\n      console.log(\"Login successful\");\n      const {\n        message,\n        status,\n        ...other\n      } = res.data;\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: other\n      });\n      navigate(\"/\"); // redirect to users page after successful login\n    } catch (err) {\n      console.log(\"Login error\", err.response);\n      NotificationManager.error(err.response.data.message, \"Warning\", 3000);\n      dispatch({\n        type: \"LOGIN_FAILURE\",\n        payload: err\n      });\n      console.log(\"error\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: HandlerLoginForm,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"username\",\n      children: \"Username:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"username\",\n      ref: email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"email\",\n      children: \"Email:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      id: \"email\"\n      // value={email}\n      // onChange={(event) => setEmail(event.target.value)}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"IwBYfZQoG/kwJZWnX1XxrktfkS0=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","styled","AuthContext","axios","useNavigate","NotificationManager","jsxDEV","_jsxDEV","Login","_s","navigate","show1","setshow1","interval","setInterval","clearInterval","user","dispatch","email","password","HandlerLoginForm","e","preventDefault","console","log","res","post","current","value","message","status","other","data","type","payload","err","response","error","onSubmit","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","ref","_c","$RefreshReg$"],"sources":["C:/Users/win/OneDrive/Desktop/frontend-atelier/src/components/pages/login.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { AuthContext } from \"../../contexts/AuthContext/AuthContext\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { NotificationManager } from \"react-notifications\";\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const [show1, setshow1] = useState(1);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (show1 < 4) {\n        setshow1(show1 + 1);\n      } else {\n        setshow1(1);\n      }\n    }, 3000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [show1]);\n\n  const { user, dispatch } = useContext(AuthContext);\n  const email = useRef();\n  const password = useRef();\n  const HandlerLoginForm = async (e) => {\n    e.preventDefault();\n    console.log(\"HandlerLoginForm called\");\n    try {\n      const res = await axios.post(\"http://localhost:8080/auth/login\", {\n        email: email.current.value,\n        password: password.current.value,\n      });\n      console.log(\"Login successful\");\n      const { message, status, ...other } = res.data;\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: other });\n      navigate(\"/\"); // redirect to users page after successful login\n    } catch (err) {\n      console.log(\"Login error\", err.response);\n      NotificationManager.error(err.response.data.message, \"Warning\", 3000);\n      dispatch({ type: \"LOGIN_FAILURE\", payload: err });\n      console.log(\"error\");\n      \n    }\n  };\n  return (\n    <form onSubmit={HandlerLoginForm}>\n      <label htmlFor=\"username\">Username:</label>\n      <input\n        type=\"text\"\n        id=\"username\"\n        ref={email}\n      />\n\n      <label htmlFor=\"email\">Email:</label>\n      <input\n        type=\"email\"\n        id=\"email\"\n        // value={email}\n        // onChange={(event) => setEmail(event.target.value)}\n      />\n\n      <button type=\"submit\">Login</button>\n    </form>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}